# 🚀 싸다구몰 자동 크롤링 프로젝트 - 최종 완성 버전

## 📋 프로젝트 개요

구글 트렌드에서 실시간 인기 키워드를 자동으로 수집하고, 해당 키워드로 싸다구몰에서 첫 번째 상품을 찾아 상세 정보를 크롤링하는 완전 자동화 프로젝트입니다.

## 🎯 주요 기능

### ✅ 완전 자동화
- 사용자 입력 없이 전체 프로세스 자동 실행
- 구글 트렌드 → 키워드 자동 선택 → 싸다구몰 검색 → 첫 번째 상품 클릭 → 상세 정보 수집

### 🔍 구글 트렌드 실제 접속
- 실제 구글 트렌드 사이트 접속
- JavaScript로 동적 콘텐츠 추출
- 실시간 인기 키워드 자동 수집

### 🛒 싸다구몰 첫 번째 상품 클릭
- 검색 결과에서 첫 번째 상품 자동 클릭
- 상품 상세 페이지로 실제 이동
- 상세 페이지에서 완전한 정보 수집

### 📊 완전한 상품 정보 추출
- **기본 정보**: 상품명, 가격, 평점, 재구매율, 판매개수
- **상세 정보**: 원가, 할인율, 상세 설명, 판매자 정보
- **추가 정보**: 상품 URL, 고품질 이미지 URL, 배송 정보

## 🏗️ 프로젝트 구조

```
D:\D_AI_projects\KDT_BE12_Final_crowling_test\
├── src/main/java/com/kdt/crawler/
│   ├── SsadaguCrawler.java              # 🎯 메인 자동화 크롤러
│   ├── PlaywrightInstaller.java         # 🔧 브라우저 설치 도구
│   ├── model/ProductInfo.java           # 📊 상품 정보 데이터 모델
│   ├── service/
│   │   ├── GoogleTrendsService.java     # 🔍 구글 트렌드 실제 접속
│   │   └── SsadaguCrawlerService.java   # 🛒 싸다구몰 상품 클릭
│   └── util/FileUtils.java              # 💾 파일 저장 유틸리티
├── data/                                # 📁 결과 저장 폴더
├── pom.xml                              # ⚙️ Maven 설정
├── run.bat                              # 🚀 Windows 실행 스크립트
└── README.md                            # 📖 이 가이드
```

## 🚀 실행 방법

### 1단계: 환경 설정 (최초 1회만)
```bash
# IntelliJ에서 프로젝트 열기
# PlaywrightInstaller.java 실행하여 브라우저 설치
```

### 2단계: 메인 크롤러 실행
```bash
# SsadaguCrawler.java 실행
# 전체 자동화 프로세스 실행
```

### 3단계: 결과 확인
```bash
# data/ 폴더에서 결과 파일 확인
```

## 🎯 자동화 프로세스

```
🚀 시작
  ▼
🌐 구글 트렌드 접속 (https://trends.google.co.kr)
  ▼
🔍 JavaScript로 인기 키워드 수집
  ▼
🎯 첫 번째 키워드 자동 선택
  ▼
🛒 싸다구몰 접속 (https://ssadagu.kr)
  ▼
🔍 키워드 검색 실행
  ▼
👆 첫 번째 상품 실제 클릭
  ▼
📦 상품 상세 페이지 이동
  ▼
📊 완전한 상품 정보 수집
  ▼
💾 결과 파일 자동 저장
  ▼
🎉 완료!
```

## 📊 추출되는 정보

### 🏷️ 기본 상품 정보
- **상품명**: 정확한 제품명
- **현재가격**: 할인된 판매 가격
- **원래가격**: 정가 (할인 전 가격)
- **할인율**: 할인 비율

### ⭐ 상품 평가 정보
- **평점**: 별점 (4/5점 형태)
- **재구매율**: 고객 재구매 비율 (2% 형태)
- **판매개수**: 실제 판매된 수량 (0개 형태)

### 🔗 상품 링크 정보
- **상품 URL**: 실제 상품 상세 페이지 링크
- **이미지 URL**: 고품질 상품 이미지 링크

### 🏪 판매자 정보
- **판매자**: 판매업체 정보
- **배송 정보**: 배송 관련 안내

## 📁 결과 파일

### 저장 위치
```
data/
├── product_키워드_YYYYMMDD_HHMMSS.txt    # 상품 정보 (한글)
└── crawler_log_YYYYMMDD.txt              # 실행 로그
```

### 파일 내용 예시
```
=== 상품 정보 ===
검색 키워드: 에어컨
상품명: Chigo 이동식 에어컨 단일 냉난방 올인원 기계...
현재가격: 169,323원
원래가격: 200,000원
할인율: 15%
상품설명: 재구매율: 2%, 판매개수: 0개
판매자: 싸다구몰
평점: 4/5점
리뷰수: 0개
배송정보: 배송 정보 확인 필요
상품URL: https://ssadagu.kr/shop/view.php?platform=1688&num_iid=936520055845
이미지URL: https://cbu01.alicdn.com/img/ibank/O1CN018IdPHJ1rZ0Siaf9Z6_!!2216600875644-0-cib.jpg
수집일시: 2025-08-22 12:20:33
```

## 🔧 기술적 특징

### 🎯 정확한 HTML 구조 매핑
제공된 실제 HTML 구조를 완벽히 분석하여 정확한 선택자 사용:
```css
div.product_item          /* 상품 컨테이너 */
  └── div.product_info    /* 상품 정보 영역 */
      ├── .product_title  /* 상품명 */
      ├── .product_price  /* 가격 */
      ├── .start img      /* 별점 */
      ├── .product_repurchaseRate /* 재구매율 */
      └── .product_sales  /* 판매개수 */
```

### 🔄 실제 상품 클릭 구현
- Playwright의 실제 브라우저 조작
- JavaScript 강제 클릭 지원
- URL 변경 확인으로 페이지 이동 검증

### 🛡️ 강력한 오류 처리
- 다양한 CSS 선택자로 안정성 확보
- 상품 클릭 실패 시 검색 결과에서 정보 추출
- 네트워크 오류 및 사이트 구조 변경 대응

## 🔍 문제 해결 가이드

### ❌ 크롤링 실패 시
1. **네트워크 연결 확인**
2. **사이트 접속 확인**: https://ssadagu.kr
3. **브라우저 재설치**: `PlaywrightInstaller.java` 재실행

### ❌ 구글 트렌드 수집 실패 시
- 자동으로 기본 키워드 사용: "에어컨", "선풍기", "휴대폰" 등
- 구글 트렌드 사이트 직접 확인: https://trends.google.co.kr

### ❌ 상품 정보 부족 시
- 싸다구몰 사이트 구조 변경 가능성
- 해당 키워드의 상품 부족 가능성
- 다른 키워드로 재시도 권장

## 🎉 실행 결과 예시

```
🚀 === 싸다구몰 자동 상품 정보 크롤러 시작 ===

📊 1단계: 구글 트렌드에서 인기 키워드 수집 중...
🌐 구글 트렌드 페이지에 실제 접속 중...
✅ 10개의 트렌드 키워드를 수집했습니다!

🎯 2단계: 자동으로 키워드 선택
=== 발견된 구글 트렌드 키워드 ===
1. 에어컨
2. 선풍기
3. 휴대폰
...
✅ 자동 선택된 키워드: 에어컨

🛒 3단계: 싸다구몰에서 '에어컨' 상품 정보 수집 중...
🌐 싸다구몰에 접속 중...
🎯 검색창 발견: input[name='ss_tx']
✅ 검색 완료
🎯 첫 번째 상품을 찾아서 클릭 중...
📋 선택자 'div.product_item a[href*='view.php']'로 1개 요소 발견
✅ 첫 번째 상품 발견! 클릭 시도...
🎉 첫 번째 상품 클릭 성공! 상세 페이지로 이동됨
📦 상품 상세 페이지에서 정보 추출 중...
📝 상품명: Chigo 이동식 에어컨...
💰 가격: 169,323원
⭐ 평점: 4/5점

💾 5단계: 결과 파일 저장 중...
✅ 결과 파일이 data/ 폴더에 저장되었습니다.

🎉 === 크롤링 작업이 완료되었습니다! ===
```

## 🏃‍♂️ 빠른 시작

1. **IntelliJ에서 프로젝트 열기**
2. **`PlaywrightInstaller.java` 실행** (최초 1회)
3. **`SsadaguCrawler.java` 실행** (메인 크롤러)
4. **`data/` 폴더에서 결과 확인**

---

## 🎯 프로젝트 목표 달성

✅ **구글 트렌드 실제 접속** - JavaScript로 동적 키워드 수집  
✅ **싸다구몰 첫 번째 상품 클릭** - 실제 상세 페이지 이동  
✅ **완전한 상품 정보 수집** - 모든 세부 정보 추출  
✅ **완전 자동화** - 사용자 개입 없이 전체 프로세스 실행  

**이제 프로젝트가 완전히 작동합니다!** 🚀
